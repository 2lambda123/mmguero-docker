[mirror]
; The directory where the mirror data will be stored.
directory = /mnt/mirror/pypi
; Save JSON metadata into the web tree:
; URL/pypi/PKG_NAME/json (Symlink) -> URL/json/PKG_NAME
json = false

; The PyPI server which will be mirrored.
; master = https://test.python.org
; scheme for PyPI server MUST be https
master = https://pypi.org

; The network socket timeout to use for all connections. This is set to a
; somewhat aggressively low value: rather fail quickly temporarily and re-run
; the client soon instead of having a process hang infinitely and have TCP not
; catching up for ages.
timeout = 10

; Number of worker threads to use for parallel downloads.
; Recommendations for worker thread setting:
; - leave the default of 3 to avoid overloading the pypi master
; - official servers located in data centers could run 10 workers
; - anything beyond 10 is probably unreasonable and avoided by bandersnatch
workers = 3

; Whether to hash package indexes
; Note that package index directory hashing is incompatible with pip, and so
; this should only be used in an environment where it is behind an application
; that can translate URIs to filesystem locations.  For example, with the
; following Apache RewriteRule:
;     RewriteRule ^([^/])([^/]*)/$ /mirror/pypi/web/simple/$1/$1$2/
;     RewriteRule ^([^/])([^/]*)/([^/]+)$/ /mirror/pypi/web/simple/$1/$1$2/$3
; OR
; following nginx rewrite rules:
;     rewrite ^/simple/([^/])([^/]*)/$ /simple/$1/$1$2/ last;
;     rewrite ^/simple/([^/])([^/]*)/([^/]+)$/ /simple/$1/$1$2/$3 last;
; Setting this to true would put the package 'abc' index in simple/a/abc.
; Recommended setting: the default of false for full pip/pypi compatibility.
hash-index = false

; Whether to stop a sync quickly after an error is found or whether to continue
; syncing but not marking the sync as successful. Value should be "true" or
; "false".
stop-on-error = false

; Whether or not files that have been deleted on the master should be deleted
; on the mirror, too.
; IMPORTANT: if you are running an official mirror than you *need* to leave
; this on.
delete-packages = true

; Advanced logging configuration. Uncomment and set to the location of a
; python logging format logging config file.
; log-config = /etc/bandersnatch-log.conf

[plugins]
enabled =
    blacklist_project
    exclude_platform
    whitelist_project

[blacklist]
platforms =
    macos
    windows

[whitelist]
    packages =
        affine
        agate
        agate-dbf
        agate-excel
        aiobotocore
        aiofiles
        aiohttp
        alabaster
        alembic
        anaconda-clean
        anaconda-client
        anaconda-navigator
        anaconda-project
        anaconda-verify
        ansi2html
        ant
        anyqt
        appdirs
        apptools
        argcomplete
        arrow
        asn1crypto
        astroid
        astropy
        async-timeout
        asyncpg
        asyncpgsa
        atom
        atomicwrites
        attrs
        automake
        automat
        autovizwidget
        azure
        babel
        backcall
        backports
        backports.functools_lru_cache
        backports.os
        backports.shutil_get_terminal_size
        backports.weakref
        backports_abc
        bandersnatch
        basemap
        bcolz
        bcrypt
        beautifulsoup4
        biopython
        bitarray
        bkcharts
        blas
        blaze
        bleach
        blist
        blosc
        bokeh
        boost
        boto
        boto3
        botocore
        bottlechest
        bottleneck
        bsddb
        bsdiff4
        btest
        btrees
        bz2file
        ca-certificates
        cachecontrol
        cached-property
        cairo
        capturer
        cartopy
        casuarius
        cdecimal
        certifi
        cffi
        chainer
        chalmers
        chameleon
        chardet
        cheetah
        cherrypy
        chest
        chrpath
        clamd
        click
        click-plugins
        cligj
        cloudpickle
        clyent
        cmake
        colander
        colorama
        colorcet
        colored
        conda
        conda-build
        conda-build-all
        conda-env
        conda-manager
        conda-verify
        configargparse
        configobj
        configparser
        constantly
        constructor
        contextlib2
        cornice
        coverage
        cryptography
        cssselect
        csvkit
        cubes
        cudatoolkit
        cudnn
        curl
        cvxcanon
        cvxopt
        cycler
        cython
        cytoolz
        dask
        dask-core
        dask-glm
        dask-ml
        dask-searchcv
        datashader
        datashape
        datrie
        db
        dbf
        dbus
        debinterface
        decorator
        defusedxml
        dill
        distlib
        distributed
        django
        dnspython
        docker-compose
        docopt
        docutils
        dropbox
        ecdsa
        ecos
        elasticsearch
        elasticsearch-async
        elasticsearch-curator
        elasticsearch-dsl
        enaml
        entrypoint2
        entrypoints
        enum34
        envisage
        ephem
        essbasepy
        et_xmlfile
        expat
        fabric
        fastcache
        fastparquet
        feedparser
        filelock
        fiona
        flake8
        flare-capa
        flask
        flask-cors
        flask-login
        flask-socketio
        flask-wtf
        fontconfig
        freeimage
        freetds
        freetype
        fribidi
        fsspec
        fuel
        funcsigs
        functools32
        furl
        future
        futures
        GDAL
        gdata
        gensim
        geos
        get_terminal_size
        gevent
        gevent-websocket
        git
        git-up
        gitpython
        glib
        glob2
        glue-core
        glue-vispy-viewers
        glueviz
        gmp
        gmpy2
        googlecl
        graphite-web
        graphite2
        graphviz
        greenlet
        gridmap
        grin
        gsl
        gst-plugins-base
        gstreamer
        gunicorn
        h2o
        h2o-py
        h5py
        harfbuzz
        hdf4
        hdf5
        hdfs3
        hdijupyterutils
        heapdict
        holoviews
        hs2client
        html5lib
        humanhash3
        humanize
        hyperlink
        ibis-framework
        icu
        idna
        imageio
        imagesize
        iminuit
        importlib-metadata
        impyla
        incremental
        intel-openmp
        ipaddress
        ipykernel
        ipyparallel
        ipython
        ipython_genutils
        ipywidgets
        iso8601
        isort
        itsdangerous
        jasper
        javabridge
        jbig
        jdcal
        jedi
        jeepney
        jinja2
        joblib
        jpeg
        json5
        jsonschema
        jupyter
        jupyter-client
        jupyter_console
        jupyter_core
        jupyterlab
        jupyterlab-launcher
        jupyterlab-server
        kealib
        keras
        keras-gpu
        kerberos
        keyring
        kiwisolver
        knit
        krb5
        lancet
        lasagne
        lazy-object-proxy
        ldap3
        libarchive
        libboost
        libconda
        libcurl
        libedit
        libevent
        libffi
        libgcc-ng
        libgdal
        libgfortran-ng
        libgpuarray
        libhdfs3
        libiconv
        liblief
        libnetcdf
        libopenblas
        libopenblas-static
        libpng
        libprotobuf
        libsodium
        libssh2
        libstdcxx-ng
        libtiff
        libtool
        libuuid
        libxcb
        libxgboost
        libxml2
        libxslt
        lighttpd
        line_profiler
        linecache2
        llvmlite
        locket
        lockfile
        luigi
        lxml
        lz4
        lz4-c
        lzo
        m4
        magic-wormhole
        mako
        markdown
        markdown2
        markupsafe
        matplotlib
        matplotlib-tests
        mayavi
        mccabe
        mdp
        meld3
        memory_profiler
        mercurial
        mistune
        mkl
        mkl-devel
        mkl-include
        mkl-service
        mkl_fft
        mkl_random
        mock
        mongodb
        more-itertools
        morfessor
        mpc
        mpfr
        mpi4py
        mpich2
        mpld3
        mpmath
        msgpack-python
        mtq
        multidict
        multipledispatch
        munch
        mypy
        mypy_extensions
        mysql
        mysql-connector-python
        mysql-python
        namedlist
        natsort
        navigator-updater
        nb_anacondacloud
        nb_conda
        nb_conda_kernels
        nbconvert
        nbformat
        nbpresent
        ncurses
        ndg-httpsclient
        neo4j-python-driver
        neon
        netCDF4
        netifaces
        networkx
        nginx
        nltk
        nodejs
        nose
        nose-parameterized
        notebook
        numba
        numexpr
        numpy
        numpy-base
        numpydoc
        odo
        olefile
        openblas
        openblas-devel
        opencv
        openjdk
        openjpeg
        openmpi
        openpyxl
        openssl
        opentracing
        opentracing_instrumentation
        orange3
        ordered-set
        packaging
        pandas
        pandas-datareader
        pandas-profiling
        pandasql
        pandoc
        pandocfilters
        pango
        param
        paramiko
        parsedatetime
        parsel
        parso
        partd
        passlib
        paste
        patchelf
        path.py
        pathlib
        pathlib2
        patool
        patsy
        pcre
        pep381client
        pep8
        perl
        petl
        pexpect
        pickleshare
        pillow
        pip
        pivottablejs
        pixman
        pkginfo
        plac
        plotly
        pluggy
        ply
        pomegranate
        portaudio
        portend
        portpicker
        posix_ipc
        postgresql
        pre-commit
        proj4
        prometheus_client
        prompt_toolkit
        protobuf
        psutil
        psycopg2
        ptyprocess
        py
        py-boost
        py-cui
        py-lief
        py-xgboost
        py2-ipaddress
        py4j
        pyamg
        pyasn1
        pyasn1-modules
        pycairo
        pycodestyle
        pycosat
        pycparser
        pycrypto
        pycurl
        pydot
        pydotplus
        pyemd
        pyflakes
        pygments
        pygpu
        pyhdf
        pyhive
        pyinotify
        pyjwt
        pykerberos
        pylint
        pymc
        pymc3
        pymongo
        pympler
        pymssql
        pymysql
        pynio
        pyodbc
        pyopengl
        pyopengl-accelerate
        pyopenssl
        pyparsing
        pyprof2calltree
        pyproj
        pyqt
        pyqtgraph
        pyquery
        pyrsistent
        pysal
        pysam
        pyserial
        pyshark
        pyshp
        pysmi
        pysnmp
        pysocks
        pyspark
        pystan
        pytables
        pytest
        pytest-arraydiff
        pytest-astropy
        pytest-asyncio
        pytest-cache
        pytest-cov
        pytest-doctestplus
        pytest-mock
        pytest-openfiles
        pytest-pep8
        pytest-remotedata
        pytest-runner
        pytest-timeout
        pytest-xdist
        python
        python-blosc
        python-daemon
        python-dateutil
        python-editor
        python-engineio
        python-gdbm
        python-graphviz
        python-leveldb
        python-libarchive-c
        python-lmdb
        python-magic
        python-memcached
        python-ntlm
        python-rapidjson
        python-snappy
        python-socketio
        python-sybase
        python-tds
        python-utils
        pythondialog
        pytorch
        pytorch-gpu
        pytz
        pyunpack
        pywavelets
        pywget
        pyyaml
        pyzmq
        qcachegrind
        qgrid
        qtawesome
        qtconsole
        qtpy
        quandl
        queuelib
        rasterio
        readline
        redis
        redis-py
        regex
        reportlab
        repoze.lru
        requests
        requests-file
        requests-ftp
        requests-kerberos
        responses
        ripgrep
        rope
        routes
        ruamel_yaml
        runipy
        s3fs
        sas7bdat
        sas_kernel
        saspy
        scandir
        scapy
        scikit-bio
        scikit-image
        scikit-learn
        scikit-rf
        scipy
        scons
        scrapy
        seaborn
        secretstorage
        semantic-version
        send2trash
        service_identity
        setuptools
        setuptools_scm
        sh
        shapely
        simplegeneric
        simplejson
        singledispatch
        sip
        six
        smart_open
        smmap2
        snakebite
        snakeviz
        snappy
        snowballstemmer
        snuggs
        sockjs-tornado
        sortedcollections
        sortedcontainers
        soupsieve
        spacy
        sparkmagic
        sphinx
        sphinx_rtd_theme
        sphinxcontrib
        sphinxcontrib-applehelp
        sphinxcontrib-devhelp
        sphinxcontrib-htmlhelp
        sphinxcontrib-jsmath
        sphinxcontrib-qthelp
        sphinxcontrib-serializinghtml
        sphinxcontrib-websupport
        sputnik
        spyder
        spyder-kernels
        sqlalchemy
        sqlalchemy-utils
        sqlite
        sqlparse
        ssh
        ssl_match_hostname
        statsmodels
        streamz
        stripe
        subprocess32
        suds-jurko
        supervisor
        svn
        swig
        sympy
        tabpy-client
        tabpy-server
        tbb
        tblib
        tempita
        teradata
        termcolor
        terminado
        testpath
        the_silver_searcher
        theano
        thrift
        thriftpy
        tk
        toolz
        torchvision
        tornado
        tornado-json
        tqdm
        traceback2
        traitlets
        traits
        traitsui
        transaction
        translationstring
        trollius
        twisted
        typed-ast
        typing
        ujson
        unicodecsv
        unidecode
        unittest2
        unixodbc
        urllib3
        uuid
        uvloop
        vcversioner
        venusian
        virtualenv
        vispy
        visvis
        vtk
        w3lib
        waitress
        wcwidth
        webencodings
        webob
        websocket
        webtest
        werkzeug
        wget
        wheel
        whoosh
        widgetsnbextension
        winkerberos
        word2vec
        workerpool
        wrapt
        ws4py
        wsgiproxy2
        wtforms
        wurlitzer
        wxpython
        xarray
        xerces-c
        xlrd
        xlsxwriter
        xlutils
        xlwt
        xz
        yara-python
        yarl
        yt
        zeromq
        zict
        zipp
        zkg
        zlib
        zope
        zope.deprecation
        zope.interface
        zope.sqlalchemy
        zstd

; Generate index pages with absolute urls rather than relative links. This is
; generally not necessary, but was added for the official internal PyPI mirror,
; which requires serving packages from https://files.pythonhosted.org
; root_uri = https://example.com

; Number of consumers which verify metadata
verifiers = 3

; Number of prior simple index.html to store. Used as a safeguard against
; upstream changes generating blank index.html files. Prior versions are
; stored under as "versions/index_<serial>_<timestamp>.html" and the current
; index.html will be a symlink to the latest version.
; If set to 0 no prior versions are stored and index.html is the latest version.
; If unset defaults to 0.
; keep_index_versions = 0

; vim: set ft=cfg:

; Configure a file to write out the list of files downloaded during the mirror.
; This is useful for situations when mirroring to offline systems where a process
; is required to only sync new files to the upstream mirror.
; The file be be named as set in the diff-file, and overwritten unless the
; diff-append-epoch setting is set to true.  If this is true, the epoch date will
; be appended to the filename (i.e. /path/to/diff-1568129735)
diff-file = /mnt/mirror/pypi-status/mirrored-files
diff-append-epoch = true